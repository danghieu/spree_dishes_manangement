<%= render :partial => 'spree/admin/shared/error_messages', :locals => { :target => @product } %>

<% content_for :page_title do %>
  <%= link_to Spree.t(:products), admin_products_url %>
  / New
<% end 
%>

<%= form_for [:admin, @product], :html => { :multipart => true } do |f| %>
  <fieldset data-hook="new_product" class = "">

 	<div class="col-md-6">
 		<div  data-hook="new_product_name" class="col-md-8">
	 		<%= f.field_container :name, :class => ['form-group'] do %>
		      	<%= f.label :name, Spree.t(:name) %> <span class="required">*</span>
		      	<%= f.text_field :name, :class => 'form-control title' %>
		      	<%= f.error_message_on :name %>
	    	<% end %>
		</div>
      	<div data-hook="new_product_dish_type" class="col-md-8">
	        <%= f.field_container :dish_type do %>
	          <%= f.label :dish_type_id, Spree.t(:dish_type) %><br />
	          <%= f.collection_select :dish_type_id, Dish::DishType.all, :id, :name, {:include_blank => false},  {:class => 'select2'} %>
        	<% end %>
      	</div>

      <div id ="new_product_price" data-hook="new_product_price" class="col-md-8">
        <%= f.field_container :price, :class => ['form-group'] do %>
          <%= f.label :price, Spree.t(:master_price) %> <span class="required">*</span>
          <%= f.text_field :price, :value => 0, :class => 'form-control' %>
          <%= f.error_message_on :price %>
        <% end %>
      </div>

      <div data-hook="new_product_cost_price" class="col-md-8">
        <%= f.field_container :cost_price, :class => ['form-group'] do %>
          <%= f.label :price, Spree.t(:master_price) %> <span class="required">*</span>
          <%= f.text_field :cost_price, :value => number_to_currency(@product.cost_price, :unit => ''), :class => 'form-control' %>
          <%= f.error_message_on :cost_price %>
        <% end %>
      </div>

      <div data-hook="new_product_available_on" class="col-md-8">
        <%= f.field_container :available_on, :class => ['form-group'] do %>
          <%= f.label :available_on, Spree.t(:available_on) %>
          <%= f.error_message_on :available_on %>
          <%= f.text_field :available_on, :class => 'datepicker form-control' %>
        <% end %>
      </div>

      <div id ="shipping_category" data-hook="new_product_shipping_category" class="col-md-4">
        <%= f.field_container :shipping_category, :class => ['form-group'] do %>
          <%= f.label :shipping_category_id, Spree.t(:shipping_categories) %><span class="required">*</span>
          <%= f.collection_select(:shipping_category_id, @shipping_categories, :id, :name, { :class => 'select2' }) %>
          <%= f.error_message_on :shipping_category_id %>
        <% end %>
      </div>

 	</div>
      
 	<div class="span12	">
 		<%= render :partial => 'spree/admin/shared/new_resource_links' %>
 	</div>
  </fieldset>
<% end %>

<script type="text/javascript">
	$("#shipping_category").hide();
  $("#new_product_price").hide();
</script>
